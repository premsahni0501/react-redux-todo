(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{33:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},38:function(e,t,a){e.exports=a(57)},43:function(e,t,a){},44:function(e,t,a){},57:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(21),s=a.n(r),i=(a(43),a(2)),l=a(3),c=a(5),u=a(4),d=a(6),m=a(15),p=a(14),h=(a(44),a(33)),g=a.n(h),f=function(){return o.a.createElement("div",null,o.a.createElement("h1",{className:"text-center"},o.a.createElement("img",{src:g.a,alt:"logo",className:"img-fluid",style:{maxWidth:"6rem"}})),o.a.createElement("h1",null,"Todo App"))},b=a(8),v=a(13),E=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).handleValueChange=function(e){var t=e.target.value;a.props.handleValueChange(t)},a.saveTodo=function(e){e.preventDefault(),a.saveEditingItem(a.props.initialEditTodo)},a.resetForm=function(){a.setState({initialEditTodo:Object(b.a)({},a.props.editItem)})},a.saveEditingItem=function(e){console.log(e),-1===e.id?a.props.addTodo(e):a.props.updateTodo(e)},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("form",{className:"input-group mb-3",onSubmit:this.saveTodo,onReset:this.resetForm},this.props.initialEditTodo.title.length>0?o.a.createElement("div",{className:"input-group-prepend"},o.a.createElement("button",{className:"btn btn-danger",type:"reset"},"Cancel")):"",o.a.createElement("input",{type:"hidden",value:this.props.initialEditTodo.id}),o.a.createElement("input",{type:"text",className:"form-control",name:"editItem",placeholder:"Add new",value:this.props.initialEditTodo.title,onChange:this.handleValueChange}),o.a.createElement("div",{className:"input-group-append"},o.a.createElement("button",{className:"btn btn-primary"+(this.props.initialEditTodo.title.length<1?" disabled":""),type:"submit",style:{pointerEvents:this.props.initialEditTodo.title.length<1?"none":"all"},disabled:this.props.initialEditTodo.length<1},"Save")))}}]),t}(o.a.Component),O=Object(v.b)(function(e){return{initialEditTodo:e.initialEditTodo}},function(e){return{addTodo:function(t){e({type:"ADD_TODO",todo:t})},handleValueChange:function(t){e({type:"HANDLE_VALUE_CHANGE",title:t})},updateTodo:function(t){e({type:"UPDATE_TODO",todo:t})}}})(E),w=function(e){function t(){var e,a;Object(i.a)(this,t);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return(a=Object(c.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(o)))).todoIndex=a.props.index,a.getStyle=function(){return console.log(a.props.todo),{textDecoration:a.props.todo.completed?"line-through":"none"}},a.editTodo=function(e){a.props.setEditTodoItem(e)},a.deleteItem=function(e){a.props.deleteTodo(e)},a.toggleCompleted=function(e){a.props.toggleCompleted(e)},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("li",{className:"list-group-item"},o.a.createElement("div",null,o.a.createElement("input",{type:"checkbox",onChange:this.toggleCompleted.bind(this,this.props.todo.id)}),o.a.createElement("span",{className:"ml-3 todoItemText",style:this.getStyle(),onClick:this.editTodo.bind(this,this.props.todo)},this.props.todo.title)),o.a.createElement("button",{className:"btn btn-danger",onClick:this.deleteItem.bind(this,this.props.todo.id)},"\xd7"))}}]),t}(o.a.Component),y=Object(v.b)(function(e){return{}},function(e){return{setEditTodoItem:function(t){e({type:"SET_EDITING_TODO",todo:t})},deleteTodo:function(t){e({type:"DELETE_TODO",id:t})},toggleCompleted:function(t){e({type:"TOGGLE_COMPLETE_TODO",id:t})}}})(w),j=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).state={userId:a.props.userId,userData:null},console.log(a.state.userId),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){console.log(e),this.forceUpdate()}},{key:"render",value:function(){return o.a.createElement("ul",{className:"list-group"},this.props.todos.length>0?this.props.todos.map(function(e){return o.a.createElement(y,{key:e.id,todo:e})}):o.a.createElement("li",{className:"list-group-item"},"No todos yet."))}}]),t}(o.a.Component),T=Object(v.b)(function(e){return{todos:e.todos}})(j),N=a(19),C=a.n(N),D=a(27),I=a(35),S=function(){function e(){Object(i.a)(this,e),this.userData=[{userId:"0236fc9d-aa6a-4872-aba8-2b61cad3feb1",userName:"prem@gmail.com",password:"prem0501"}]}return Object(l.a)(e,[{key:"authenticate",value:function(){var e=Object(D.a)(C.a.mark(function e(t){var a=this;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",new Promise(function(e){var n=a.userData.filter(function(e){return e.userName===t.userName&&e.password===t.password});n.length>0?(localStorage.setItem("userId",n[0].userId),e({status:1,data:n[0],msg:"Successfully logged in"})):e({status:0,data:null,msg:"Username and password dont match, please check your credentials"})}));case 4:e.prev=4,e.t0=e.catch(0),console.log(e.t0);case 7:case"end":return e.stop()}},e,null,[[0,4]])}));return function(t){return e.apply(this,arguments)}}()},{key:"register",value:function(){var e=Object(D.a)(C.a.mark(function e(t){var a=this;return C.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.abrupt("return",new Promise(function(e){if(a.userData.filter(function(e){return e.userName===t.userName}).length>0)e({status:0,data:null,msg:"User name already exists, please login to continue"});else if(t.password===t.confirmPassword){var n={userId:I(),userName:t.userName,password:t.password};localStorage.setItem("userId",n.userId),a.userData.push(n),e({status:1,data:n,msg:"Registration successful"})}else e({status:0,data:null,msg:"Passwords dont match"})}));case 4:e.prev=4,e.t0=e.catch(0),console.log(e.t0);case 7:case"end":return e.stop()}},e,null,[[0,4]])}));return function(t){return e.apply(this,arguments)}}()},{key:"getUserId",value:function(){return localStorage.getItem("userId")}},{key:"getUserData",value:function(){var e=this.getUserId();return this.userData.filter(function(t){return t.userId===e})[0]}},{key:"getLoginStatus",value:function(){var e=this.getUserId();return this.userData.filter(function(t){return t.userId===e}).length>0}},{key:"logout",value:function(){localStorage.removeItem("userId")}}]),e}(),k=a(9),x=a.n(k),P=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).logout=function(){a.auth.logout(),a.setState({userData:a.props.userData,dropdownToggle:!1,loginStatus:a.auth.getLoginStatus()}),console.log(a.props),window.location.href="/login"},a.handleDropdown=function(){a.state.loginStatus&&a.setState({dropdownToggle:!a.state.dropdownToggle})},a.auth=new S,a.state={userData:a.props.userData,dropdownToggle:!1,loginStatus:a.auth.getLoginStatus()},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return this.state.loginStatus?o.a.createElement("div",{className:"dropdown userDropdown dropleft"},o.a.createElement("button",{className:"btn btn-primary",type:"button",onClick:this.handleDropdown},this.state.userData.userName.substring(0,1).toUpperCase()),o.a.createElement("div",{className:"dropdown-menu"+(this.state.dropdownToggle?" show":"")},o.a.createElement("p",{className:"dropdown-item",href:"#"},this.state.userData.userName),o.a.createElement("button",{className:"dropdown-item",onClick:this.logout},"Log out"))):""}}]),t}(n.Component);P.propType={userData:x.a.object,loginStatus:x.a.bool,dropdownToggle:x.a.bool};var L=Object(p.f)(P),A=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(c.a)(this,Object(u.a)(t).call(this,e))).auth=new S,a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement("div",{className:"App"},o.a.createElement(L,{userData:this.auth.getUserData()}),o.a.createElement(f,null),o.a.createElement(O,null),o.a.createElement(T,null))}}]),t}(o.a.Component),_=a(16),U=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).onFormValueChange=function(t){console.log(t.target.value),e.setState(Object(_.a)({},t.target.name,t.target.value))},e.login=function(t){t.preventDefault(),e.setState({errors:""}),console.log(e.state),e.authService.authenticate(Object(b.a)({},e.state)).then(function(t){console.log(e.props),1===t.status?e.props.history.push("/"):e.setState({errors:t.msg})})},document.title="Login",e.state={userName:"",password:"",errors:""},e.authService=new S,e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.authService.getLoginStatus()&&this.props.history.push("/")}},{key:"render",value:function(){return o.a.createElement("div",{className:"card",style:{maxWidth:"500px",margin:"10vh auto"}},o.a.createElement("div",{className:"card-body"},o.a.createElement("h2",null,"Please Login to continue"),o.a.createElement("form",{onSubmit:this.login},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Email address"),o.a.createElement("input",{type:"email",className:"form-control",name:"userName",required:!0,onChange:this.onFormValueChange,value:this.state.userName,autoComplete:"none",placeholder:"Enter email"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Password"),o.a.createElement("input",{type:"password",className:"form-control",name:"password",required:!0,minLength:6,onChange:this.onFormValueChange,value:this.state.password,autoComplete:"none",placeholder:"Password"})),o.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit")),""!==this.state.errors?o.a.createElement("p",{className:"text-danger"},this.state.errors):"",o.a.createElement("hr",null),o.a.createElement("p",null,"Don't have an account? ",o.a.createElement(m.b,{to:"/register"},"Register here"))))}}]),t}(n.Component),F=a(37),V=function(e){var t=e.component,a=Object(F.a)(e,["component"]),n=new S;return o.a.createElement(p.b,Object.assign({},a,{render:function(e){return n.getLoginStatus()?o.a.createElement(t,Object.assign({},e,{userId:n.getUserId()})):o.a.createElement(p.a,{to:"/login"})}}))},W=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(c.a)(this,Object(u.a)(t).call(this))).onFormValueChange=function(t){console.log(t.target.value),e.setState(Object(_.a)({},t.target.name,t.target.value))},e.register=function(t){t.preventDefault(),e.setState({errors:""}),e.state.password===e.state.confirmPassword?(console.log(e.state),e.authService.register(Object(b.a)({},e.state)).then(function(t){console.log(t,e.props),1===t.status?e.props.history.push("/"):e.setState({errors:t.msg})})):e.setState({errors:"Please re-enter the password"})},document.title="Login",e.state={userName:"",password:"",confirmPassword:"",errors:""},e.authService=new S,e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentWillMount",value:function(){this.authService.getLoginStatus()&&this.props.history.push("/")}},{key:"render",value:function(){return o.a.createElement("div",{className:"card",style:{maxWidth:"500px",margin:"10vh auto"}},o.a.createElement("div",{className:"card-body"},o.a.createElement("h2",null,"Please Login to continue"),o.a.createElement("form",{onSubmit:this.register},o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"exampleInputEmail1"},"Email address"),o.a.createElement("input",{type:"email",className:"form-control",name:"userName",required:!0,onChange:this.onFormValueChange,value:this.state.userName,autoComplete:"none",placeholder:"Enter email"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Password"),o.a.createElement("input",{type:"password",className:"form-control",name:"password",required:!0,minLength:6,onChange:this.onFormValueChange,value:this.state.password,autoComplete:"none",placeholder:"Password"})),o.a.createElement("div",{className:"form-group"},o.a.createElement("label",{htmlFor:"exampleInputPassword1"},"Password"),o.a.createElement("input",{type:"password",className:"form-control",name:"confirmPassword",required:!0,minLength:6,onChange:this.onFormValueChange,value:this.state.confirmPassword,autoComplete:"none",placeholder:"Confirm Password"})),o.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit")),""!==this.state.errors?o.a.createElement("p",{className:"text-danger"},this.state.errors):""))}}]),t}(o.a.Component),G=function(e){function t(){return Object(i.a)(this,t),Object(c.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return o.a.createElement(m.a,{basename:"/react-redux-todo"},o.a.createElement(p.d,null,o.a.createElement(V,{exact:!0,path:"/",component:A}),o.a.createElement(p.b,{path:"/login",component:U}),o.a.createElement(p.b,{path:"/register",component:W})))}}]),t}(o.a.Component),R=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function q(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var H=a(24),M=a(20),B={initialEditTodo:{id:-1,title:"",completed:!1},editTodoItem:{id:-1,title:"",completed:!1},todos:[{id:0,title:"Task one",completed:!1},{id:1,title:"Task Two",completed:!1},{id:2,title:"Task three",completed:!1}]},J=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:B,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DELETE_TODO":var a=Object(M.a)(e.todos.filter(function(e){return e.id!==t.id}));return Object(b.a)({},e,{todos:a});case"ADD_TODO":var n=e.todos.length,o=t.todo;o.id=n;var r=[].concat(Object(M.a)(e.todos),[o]);return Object(b.a)({},e,{todos:r,initialEditTodo:Object(b.a)({},e.editTodoItem)});case"UPDATE_TODO":var s,i=t.todo;return s=e.todos.map(function(e){return e.id===i.id&&(e.title=i.title,e.completed=i.completed),e}),Object(b.a)({},e,{initialEditTodo:Object(b.a)({},e.editTodoItem),todos:Object(M.a)(s)});case"SET_EDITING_TODO":var l=t.todo;return console.log(l),Object(b.a)({},e,{initialEditTodo:l});case"HANDLE_VALUE_CHANGE":var c=e.initialEditTodo,u=c.id,d=c.title,m=c.completed;return d=t.title,Object(b.a)({},e,{initialEditTodo:{id:u,title:d,completed:m}});case"TOGGLE_COMPLETE_TODO":var p,h=t.id;return p=e.todos.filter(function(e){return e.id===h&&(e.completed=!e.completed),e}),console.log(p),Object(b.a)({},e,{todos:Object(M.a)(p)});default:console.log(t)}return e},$=Object(H.b)(J);s.a.render(o.a.createElement(v.a,{store:$},o.a.createElement(G,null)),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/react-redux-todo",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/react-redux-todo","/service-worker.js");R?(function(e,t){fetch(e).then(function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):q(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")})):q(t,e)})}}()}},[[38,1,2]]]);